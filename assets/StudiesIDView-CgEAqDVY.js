import{ar as I,u as D,aq as j,c as g,o as n,w as a,m as l,F as k,q as x,g as e,s as C,d as v,t as u,E as N,b0 as M,D as S,K as T,j as q,I as B,b1 as P,ai as z,b2 as O,b as i,ah as R,af as H,f as V,a as _,h as w,b3 as U,i as b,at as A,a$ as F}from"./index-B2M0gmiM.js";import{_ as E}from"./ErrorNotFoundView.vue_vue_type_script_setup_true_lang-BNYFb72G.js";import{V as G,a as J}from"./VTimelineItem-BRzm4d5h.js";import{V as K,b as Q}from"./VCard-Dh6O6HkB.js";import{m as W}from"./powerpointFunctions-BnHY1MN_.js";import{_ as X}from"./PageSectionTitle.vue_vue_type_script_setup_true_lang-DLXDyqHL.js";import{V as Y}from"./VChip-C-Kp1BRd.js";const Z={__name:"ProcedureTimeline",props:["study"],setup(m){const p=I({html:!0}),o=D(),{study:f}=m;function h(r){return o.getDataObjectById(r).label}function t(r){return o.getDataObjectById(r).name}return(r,s)=>{const c=j("router-link");return n(),g(J,{side:"end",class:"ml-6 mt-6"},{default:a(()=>[(n(!0),l(k,null,x(m.study.procedure,(y,L)=>(n(),g(G,{key:L,"dot-color":"blue",size:"medium",width:"100%"},{default:a(()=>[e(K,null,{title:a(()=>[e(c,{class:"text-black",to:`/techniques/${y.technique}`},{default:a(()=>[v(u(h(y.technique)),1)]),_:2},1032,["to"])]),subtitle:a(()=>[e(c,{class:"text-black",to:`/tactics/${y.tactic}`},{default:a(()=>[v(u(t(y.tactic)),1)]),_:2},1032,["to"])]),default:a(()=>[e(Q,{innerHTML:C(p).render(y.description)},null,8,["innerHTML"])]),_:2},1024)]),_:2},1024))),128))]),_:1})}}},tt={__name:"DownloadDataDropdown",props:["study"],setup(m){const p=D(),{study:o}=m,f=[{title:"PowerPoint (.pptx)",icon:"mdi-file-powerpoint-box-outline",function:()=>h()},{title:"Raw data (.yaml)",icon:"mdi-file",function:()=>M({study:o},o.id)}];async function h(){for(const t of o.procedure){const r=await p.getDataObjectById(t.technique);t.techniqueObject=r}W(o),o.procedure.forEach(t=>{delete t.techniqueObject})}return(t,r)=>(n(),g(P,null,{activator:a(({props:s})=>[e(q,B({color:"inherit"},s,{"prepend-icon":"mdi-download","append-icon":"mdi-menu-down"}),{default:a(()=>[v(" Download Data ")]),_:2},1040)]),default:a(()=>[e(N,null,{default:a(()=>[(n(),l(k,null,x(f,(s,c)=>e(S,{key:c,value:c,title:s.title,onClick:s.function},{prepend:a(()=>[e(T,{icon:s.icon,size:"small",style:{"margin-right":"-18px"}},null,8,["icon"])]),_:2},1032,["value","title","onClick"])),64))]),_:1})]),_:1}))}},et="/assets/nav-layer-icon-0WQ06N0a.png",at=i("img",{width:"35",height:"35",class:"mr-3 ml-0",src:et},null,-1),nt={__name:"NavigatorLayerDropdown",props:["study"],setup(m){const{study:p}=m,o=z(p.id),f=R(o),h=[{title:"View on ATLAS Navigator",icon:"mdi-open-in-new",function:()=>window.open(f,"_blank")},{title:"Download as raw data (.json)",icon:"mdi-arrow-collapse-down",function:()=>O(o)}];return(t,r)=>(n(),g(P,null,{activator:a(({props:s})=>[e(q,B({color:"inherit"},s,{"append-icon":"mdi-menu-down"}),{prepend:a(()=>[at]),default:a(()=>[v(" Navigator Layer ")]),_:2},1040)]),default:a(()=>[e(N,null,{default:a(()=>[(n(),l(k,null,x(h,(s,c)=>e(S,{key:c,value:c,title:s.title,onClick:s.function},{prepend:a(()=>[e(T,{icon:s.icon,size:"small",style:{"margin-right":"-18px"}},null,8,["icon"])]),_:2},1032,["value","title","onClick"])),64))]),_:1})]),_:1}))}},lt={key:0},st=i("span",null," Incident Date:  ",-1),ot={key:0,class:"font-weight-bold"},it={key:1},rt={key:2,class:"font-weight-bold"},ct=i("br",null,null,-1),ut=i("span",null," Actor:  ",-1),dt={key:3,class:"font-weight-bold"},_t=i("span",null," | Target:  ",-1),mt={key:4,class:"font-weight-bold"},pt=i("p",{class:"text-h5 mt-10 ml-6"},"Summary",-1),ht=["innerHTML"],ft=i("br",null,null,-1),yt=i("div",{class:"text-h5 ml-6 text-capitalize"},"Procedure",-1),vt={key:0,class:"ml-6"},gt=i("p",{class:"text-h5 mt-10"},"Sources",-1),wt=["href"],bt={key:1},kt={key:1},Nt={__name:"StudiesIDView",setup(m){const p=I({html:!0}),o=D(),f=H();let{id:h}=f.params;const t=V(()=>o.getDataObjectById(h)),r=V(()=>U(t.value)),s=V(()=>t.value.name),c=[];return(y,L)=>t.value!=null?(n(),l("div",lt,[e(w,{class:"align-center"},{default:a(()=>[e(X,{pageTitle:s.value},null,8,["pageTitle"]),e(Y,{class:"ma-1 ml-3 text-capitalize",color:t.value["case-study-type"]==="exercise"?"blue":"purple","text-color":t.value["case-study-type"]==="exercise"?"blue":"purple",label:"",variant:"outlined","prepend-icon":t.value["case-study-type"]==="exercise"?"mdi-clipboard-file-outline":"mdi-alert-circle-outline"},{default:a(()=>[v(u(t.value["case-study-type"]),1)]),_:1},8,["color","text-color","prepend-icon"])]),_:1}),e(w,{class:"ml-6"},{default:a(()=>[e(b,{cols:"12",sm:"5",md:"7"},{default:a(()=>[st,t.value["incident-date"]?(n(),l("span",ot,u(r.value)+"  ",1)):_("",!0),t.value.reporter?(n(),l("span",it," | Reporter:  ")):_("",!0),t.value.reporter?(n(),l("span",rt,u(t.value.reporter),1)):_("",!0),ct,ut,t.value.actor?(n(),l("span",dt,u(t.value.actor)+"  ",1)):_("",!0),_t,t.value.target?(n(),l("span",mt,u(t.value.target),1)):_("",!0)]),_:1}),e(A),e(b,{class:"text-right"},{default:a(()=>[e(tt,{study:t.value},null,8,["study"])]),_:1})]),_:1}),pt,i("p",{class:"pl-3 ml-6",innerHTML:C(p).render(t.value.summary)},null,8,ht),ft,e(F,{class:"pb-10"}),e(w,{align:"center"},{default:a(()=>[e(b,null,{default:a(()=>[yt]),_:1}),c.includes(t.value.id)?_("",!0):(n(),g(b,{key:0,class:"text-right"},{default:a(()=>[e(nt,{study:t.value},null,8,["study"])]),_:1}))]),_:1}),e(w,null,{default:a(()=>[e(Z,{study:t.value},null,8,["study"])]),_:1}),t.value.references&&t.value.references.length>0?(n(),l("div",vt,[gt,(n(!0),l(k,null,x(t.value.references,(d,$)=>(n(),l("div",{key:d.url,class:"pl-3 mb-2"},[i("span",null,u($+1)+". ",1),d.url&&d.title?(n(),l("a",{key:0,href:d.url,target:"_blank",rel:"noopener noreferrer"},[v(u(d.title||d.url)+" ",1),e(T,{icon:"mdi-open-in-new",size:"small"})],8,wt)):d.title?(n(),l("div",bt,u(d.title),1)):_("",!0)]))),128))])):_("",!0)])):(n(),l("div",kt,[e(E)]))}};export{Nt as default};
