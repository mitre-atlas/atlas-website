import{as as C,u as T,ar as $,c as g,o as n,w as a,q as s,F as k,s as x,g as e,t as I,d as v,v as u,G as N,b1 as M,E as S,L as D,j,J as q,b2 as B,aj as z,b3 as O,b as i,ai as R,ag as H,f as V,a as _,h as b,b4 as U,i as w,au as A,b0 as F}from"./index-p9DeK3oM.js";import{_ as E}from"./ErrorNotFoundView.vue_vue_type_script_setup_true_lang-Beg72kEb.js";import{V as G,a as J}from"./VTimelineItem-DvM78PjU.js";import{V as Q,b as W}from"./VCard-CvxCcJbN.js";import{m as K}from"./powerpointFunctions-Cj_N8iK2.js";import{_ as X}from"./PageSectionTitle.vue_vue_type_script_setup_true_lang-DuHzWsQq.js";import{V as Y}from"./VChip-D4Navkp1.js";const Z={__name:"ProcedureTimeline",props:["study"],setup(m){const p=C({html:!0}),o=T(),{study:f}=m;function h(r){return o.getDataObjectById(r).label}function t(r){return o.getDataObjectById(r).name}return(r,l)=>{const c=$("router-link");return n(),g(J,{side:"end",class:"ml-6 mt-6"},{default:a(()=>[(n(!0),s(k,null,x(m.study.procedure,(y,L)=>(n(),g(G,{key:L,"dot-color":"blue",size:"medium",width:"100%"},{default:a(()=>[e(Q,null,{title:a(()=>[e(c,{class:"text-black",to:`/techniques/${y.technique}`},{default:a(()=>[v(u(h(y.technique)),1)]),_:2},1032,["to"])]),subtitle:a(()=>[e(c,{class:"text-black",to:`/tactics/${y.tactic}`},{default:a(()=>[v(u(t(y.tactic)),1)]),_:2},1032,["to"])]),default:a(()=>[e(W,{innerHTML:I(p).render(y.description)},null,8,["innerHTML"])]),_:2},1024)]),_:2},1024))),128))]),_:1})}}},tt={__name:"DownloadDataDropdown",props:["study"],setup(m){const p=T(),{study:o}=m,f=[{title:"PowerPoint (.pptx)",icon:"mdi-file-powerpoint-box-outline",function:()=>h()},{title:"Raw data (.yaml)",icon:"mdi-file",function:()=>M({study:o},o.id)}];async function h(){for(const t of o.procedure){const r=await p.getDataObjectById(t.technique);t.techniqueObject=r}K(o),o.procedure.forEach(t=>{delete t.techniqueObject})}return(t,r)=>(n(),g(B,null,{activator:a(({props:l})=>[e(j,q({color:"inherit"},l,{"prepend-icon":"mdi-download","append-icon":"mdi-menu-down"}),{default:a(()=>[v(" Download Data ")]),_:2},1040)]),default:a(()=>[e(N,null,{default:a(()=>[(n(),s(k,null,x(f,(l,c)=>e(S,{key:c,value:c,title:l.title,onClick:l.function},{prepend:a(()=>[e(D,{icon:l.icon,size:"small",style:{"margin-right":"-18px"}},null,8,["icon"])]),_:2},1032,["value","title","onClick"])),64))]),_:1})]),_:1}))}},et="/assets/nav-layer-icon-0WQ06N0a.png",at=i("img",{width:"35",height:"35",class:"mr-3 ml-0",src:et},null,-1),nt={__name:"NavigatorLayerDropdown",props:["study"],setup(m){const{study:p}=m,o=z(p.id),f=R(o),h=[{title:"View on ATLAS Navigator",icon:"mdi-open-in-new",function:()=>window.open(f,"_blank")},{title:"Download as raw data (.json)",icon:"mdi-arrow-collapse-down",function:()=>O(o)}];return(t,r)=>(n(),g(B,null,{activator:a(({props:l})=>[e(j,q({color:"inherit"},l,{"append-icon":"mdi-menu-down"}),{prepend:a(()=>[at]),default:a(()=>[v(" Navigator Layer ")]),_:2},1040)]),default:a(()=>[e(N,null,{default:a(()=>[(n(),s(k,null,x(h,(l,c)=>e(S,{key:c,value:c,title:l.title,onClick:l.function},{prepend:a(()=>[e(D,{icon:l.icon,size:"small",style:{"margin-right":"-18px"}},null,8,["icon"])]),_:2},1032,["value","title","onClick"])),64))]),_:1})]),_:1}))}},st={key:0},lt=i("span",null," Incident Date:  ",-1),ot={key:0,class:"font-weight-bold"},it={key:1},rt={key:2,class:"font-weight-bold"},ct=i("br",null,null,-1),ut=i("span",null," Actor:  ",-1),dt={key:3,class:"font-weight-bold"},_t=i("span",null," | Target:  ",-1),mt={key:4,class:"font-weight-bold"},pt=i("p",{class:"text-h5 mt-10 ml-6"},"Summary",-1),ht=["innerHTML"],ft=i("br",null,null,-1),yt=i("div",{class:"text-h5 ml-6 text-capitalize"},"Procedure",-1),vt={key:0,class:"ml-6"},gt=i("p",{class:"text-h5 mt-10"},"Sources",-1),bt=["href"],wt={key:1},kt={key:1},Nt={__name:"StudiesIDView",setup(m){const p=C({html:!0}),o=T(),f=H();let{id:h}=f.params;const t=V(()=>o.getDataObjectById(h)),r=V(()=>U(t.value)),l=V(()=>t.value.name),c=[];return(y,L)=>t.value!=null?(n(),s("div",st,[e(b,{class:"align-center"},{default:a(()=>[e(X,{pageTitle:l.value},null,8,["pageTitle"]),e(Y,{class:"ma-1 ml-3 text-capitalize",color:t.value["case-study-type"]==="exercise"?"blue":"purple","text-color":t.value["case-study-type"]==="exercise"?"blue":"purple",label:"",variant:"outlined","prepend-icon":t.value["case-study-type"]==="exercise"?"mdi-clipboard-file-outline":"mdi-alert-circle-outline"},{default:a(()=>[v(u(t.value["case-study-type"]),1)]),_:1},8,["color","text-color","prepend-icon"])]),_:1}),e(b,{class:"ml-6"},{default:a(()=>[e(w,{cols:"12",sm:"5",md:"7"},{default:a(()=>[lt,t.value["incident-date"]?(n(),s("span",ot,u(r.value)+"  ",1)):_("",!0),t.value.reporter?(n(),s("span",it," | Reporter:  ")):_("",!0),t.value.reporter?(n(),s("span",rt,u(t.value.reporter),1)):_("",!0),ct,ut,t.value.actor?(n(),s("span",dt,u(t.value.actor)+"  ",1)):_("",!0),_t,t.value.target?(n(),s("span",mt,u(t.value.target),1)):_("",!0)]),_:1}),e(A),e(w,{class:"text-right"},{default:a(()=>[e(tt,{study:t.value},null,8,["study"])]),_:1})]),_:1}),pt,i("p",{class:"pl-3 ml-6",innerHTML:I(p).render(t.value.summary)},null,8,ht),ft,e(F,{class:"pb-10"}),e(b,{align:"center"},{default:a(()=>[e(w,null,{default:a(()=>[yt]),_:1}),c.includes(t.value.id)?_("",!0):(n(),g(w,{key:0,class:"text-right"},{default:a(()=>[e(nt,{study:t.value},null,8,["study"])]),_:1}))]),_:1}),e(b,null,{default:a(()=>[e(Z,{study:t.value},null,8,["study"])]),_:1}),t.value.references&&t.value.references.length>0?(n(),s("div",vt,[gt,(n(!0),s(k,null,x(t.value.references,(d,P)=>(n(),s("div",{key:d.url,class:"pl-3 mb-2"},[i("span",null,u(P+1)+". ",1),d.url&&d.title?(n(),s("a",{key:0,href:d.url,target:"_blank",rel:"noopener noreferrer"},[v(u(d.title||d.url)+" ",1),e(D,{icon:"mdi-open-in-new",size:"small"})],8,bt)):d.title?(n(),s("div",wt,u(d.title),1)):_("",!0)]))),128))])):_("",!0)])):(n(),s("div",kt,[e(E)]))}};export{Nt as default};
